(()=>{var e={};e.id=459,e.ids=[459,888,660],e.modules={1294:(e,t,s)=>{"use strict";s.r(t),s.d(t,{config:()=>_,default:()=>N,getServerSideProps:()=>E,getStaticPaths:()=>P,getStaticProps:()=>w,reportWebVitals:()=>y,routeModule:()=>T,unstable_getServerProps:()=>q,unstable_getServerSideProps:()=>O,unstable_getStaticParams:()=>A,unstable_getStaticPaths:()=>C,unstable_getStaticProps:()=>I});var r={};s.r(r),s.d(r,{default:()=>j,getServerSideProps:()=>S});var a=s(7093),i=s(5244),l=s(1323),n=s(2899),o=s.n(n),u=s(6847),d=s(997),c=s(6689),p=s(1664),m=s.n(p),x=s(5675),h=s.n(x),b=s(1163);function g(e=""){let t=process.env.NEXT_PUBLIC_SITE_URL,s=t?t.replace(/\/$/,""):"";return s?`${s}${e}`:`http://localhost:3000${e}`}var f=s(6086),v=s(2854);let S=async e=>{let t=(0,v.t)(e),{data:{session:s}}=await t.auth.getSession();return s?{redirect:{destination:"/dashboard",permanent:!1}}:{props:{initialSession:s,showGoogle:!!(process.env.SUPABASE_OAUTH_GOOGLE_CLIENT_ID&&process.env.SUPABASE_OAUTH_GOOGLE_SECRET)}}};function j({showGoogle:e}){let t=(0,b.useRouter)(),[s,r]=(0,c.useState)(""),[a,i]=(0,c.useState)(""),[l,n]=(0,c.useState)(!1),[o,u]=(0,c.useState)(!1),[p,x]=(0,c.useState)(""),[v,S]=(0,c.useState)(""),j=async e=>{e.preventDefault(),x(""),S(""),n(!0);let{error:r}=await f.Z.auth.signInWithPassword({email:s,password:a});if(r){x(r.message||"Credenciais invalidas. Verifique e tente novamente."),n(!1);return}await t.replace("/dashboard")},N=async()=>{if(!s){x("Informe seu e-mail para recuperar a senha.");return}x(""),S(""),u(!0);let{error:e}=await f.Z.auth.resetPasswordForEmail(s,{redirectTo:g("/login")});e?x(e.message||"Falha ao enviar instrucoes de recuperacao."):S("Enviamos as instrucoes de recuperacao de senha para seu e-mail."),u(!1)},w=async()=>{x(""),S("");let{error:e}=await f.Z.auth.signInWithOAuth({provider:"google",options:{redirectTo:g("/dashboard")}});e&&x(e.message||"Nao foi possivel iniciar o login com Google.")};return d.jsx("div",{className:"min-h-screen bg-slate-100",children:(0,d.jsxs)("div",{className:"mx-auto flex min-h-screen max-w-md flex-col justify-center px-6 py-12",children:[(0,d.jsxs)("div",{className:"mb-8 flex flex-col items-center gap-4",children:[d.jsx(h(),{src:"/logo.svg",alt:"Logo",width:96,height:48,className:"h-12 w-auto",priority:!0}),d.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Entrar"}),d.jsx("p",{className:"text-sm text-slate-600",children:"Acesse sua conta usando e-mail e senha."})]}),(0,d.jsxs)("form",{onSubmit:j,className:"space-y-6 rounded-xl bg-white p-8 shadow",children:[p&&d.jsx("div",{className:"rounded-md border border-red-300 bg-red-50 px-4 py-2 text-sm text-red-700",children:p}),v&&d.jsx("div",{className:"rounded-md border border-emerald-300 bg-emerald-50 px-4 py-2 text-sm text-emerald-700",children:v}),(0,d.jsxs)("div",{children:[d.jsx("label",{htmlFor:"email",className:"mb-2 block text-sm font-medium text-slate-700",children:"E-mail"}),d.jsx("input",{id:"email",type:"email",required:!0,autoComplete:"email",value:s,onChange:e=>r(e.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),(0,d.jsxs)("div",{children:[d.jsx("label",{htmlFor:"password",className:"mb-2 block text-sm font-medium text-slate-700",children:"Senha"}),d.jsx("input",{id:"password",type:"password",required:!0,autoComplete:"current-password",value:a,onChange:e=>i(e.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),d.jsx("button",{type:"submit",disabled:l,className:"flex w-full items-center justify-center rounded-lg bg-blue-600 px-4 py-2 text-white transition hover:bg-blue-500 disabled:bg-blue-400",children:l?"Entrando...":"Entrar"}),d.jsx("button",{type:"button",onClick:N,disabled:o,className:"w-full text-left text-sm text-blue-600 hover:text-blue-500 disabled:text-blue-400",children:o?"Enviando e-mail...":"Esqueci minha senha"}),e&&(0,d.jsxs)("div",{className:"pt-4",children:[(0,d.jsxs)("div",{className:"mb-4 flex items-center gap-3",children:[d.jsx("span",{className:"h-px flex-1 bg-slate-200"}),d.jsx("span",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Ou"}),d.jsx("span",{className:"h-px flex-1 bg-slate-200"})]}),d.jsx("button",{type:"button",onClick:w,className:"flex w-full items-center justify-center gap-2 rounded-lg border border-slate-300 bg-white px-4 py-2 text-slate-700 transition hover:bg-slate-50",children:d.jsx("span",{children:"Entrar com Google"})})]})]}),(0,d.jsxs)("p",{className:"mt-6 text-center text-sm text-slate-600",children:["Ainda nao tem conta?"," ",d.jsx(m(),{href:"/signup",className:"font-medium text-blue-600 hover:text-blue-500",children:"Criar conta"})]})]})})}let N=(0,l.l)(r,"default"),w=(0,l.l)(r,"getStaticProps"),P=(0,l.l)(r,"getStaticPaths"),E=(0,l.l)(r,"getServerSideProps"),_=(0,l.l)(r,"config"),y=(0,l.l)(r,"reportWebVitals"),I=(0,l.l)(r,"unstable_getStaticProps"),C=(0,l.l)(r,"unstable_getStaticPaths"),A=(0,l.l)(r,"unstable_getStaticParams"),q=(0,l.l)(r,"unstable_getServerProps"),O=(0,l.l)(r,"unstable_getServerSideProps"),T=new a.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/login",pathname:"/login",bundlePath:"",filename:""},components:{App:u.default,Document:o()},userland:r})},6086:(e,t,s)=>{"use strict";let r;s.d(t,{O:()=>i,Z:()=>l});var a=s(4001);function i(){return r||(r=(0,a.createPagesBrowserClient)()),r}let l=i()},2854:(e,t,s)=>{"use strict";s.d(t,{t:()=>l});var r=s(4001);let a="https://phtfqtumdtqrxvtlxwwq.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBodGZxdHVtZHRxcnh2dGx4d3dxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk0ODg1MTAsImV4cCI6MjA3NTA2NDUxMH0.bE94zxx9V9JAJyCshiGEiUoN0CiRRI-eTT1Aa7O6RJM";if(!a||!i)throw Error("Defina NEXT_PUBLIC_SUPABASE_URL e NEXT_PUBLIC_SUPABASE_ANON_KEY nas variaveis de ambiente.");function l(e){return(0,r.createPagesServerClient)(e,{supabaseUrl:a,supabaseKey:i})}},6847:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(997);s(6764);var a=s(6689);let i=require("@supabase/auth-helpers-react");var l=s(6086);function n({Component:e,pageProps:t}){let[s]=(0,a.useState)(()=>(0,l.O)());return r.jsx(i.SessionContextProvider,{supabaseClient:s,initialSession:t.initialSession,children:r.jsx(e,{...t})})}},6764:()=>{},4001:e=>{"use strict";e.exports=require("@supabase/auth-helpers-nextjs")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},2048:e=>{"use strict";e.exports=require("fs")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},1568:e=>{"use strict";e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[899,342,61],()=>s(1294));module.exports=r})();