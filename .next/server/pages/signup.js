(()=>{var e={};e.id=616,e.ids=[616,888,660],e.modules={9724:(e,t,s)=>{"use strict";s.r(t),s.d(t,{config:()=>y,default:()=>j,getServerSideProps:()=>P,getStaticPaths:()=>N,getStaticProps:()=>w,reportWebVitals:()=>C,routeModule:()=>J,unstable_getServerProps:()=>A,unstable_getServerSideProps:()=>E,unstable_getStaticParams:()=>I,unstable_getStaticPaths:()=>q,unstable_getStaticProps:()=>_});var r={};s.r(r),s.d(r,{default:()=>S,getServerSideProps:()=>v});var a=s(7093),i=s(5244),l=s(1323),o=s(2899),n=s.n(o),u=s(6847),d=s(997),c=s(6689),m=s(1664),p=s.n(m),x=s(5675),b=s.n(x),h=s(1163),f=s(6086),g=s(2854);let v=async e=>{let t=(0,g.t)(e),{data:{session:s}}=await t.auth.getSession();return s?{redirect:{destination:"/dashboard",permanent:!1}}:{props:{initialSession:s}}};function S(){let e=(0,h.useRouter)(),[t,s]=(0,c.useState)(""),[r,a]=(0,c.useState)(""),[i,l]=(0,c.useState)(""),[o,n]=(0,c.useState)(""),[u,m]=(0,c.useState)(!1),[x,g]=(0,c.useState)(""),[v,S]=(0,c.useState)(""),j=async s=>{if(s.preventDefault(),g(""),S(""),i!==o){g("As senhas nao coincidem.");return}m(!0);let{data:a,error:l}=await f.Z.auth.signUp({email:r,password:i,options:{data:{full_name:t}}});if(l){g(l.message||"Nao foi possivel criar a conta."),m(!1);return}if(a.session){try{if(!(await fetch("/api/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({full_name:t})})).ok)throw Error("Falha ao salvar o perfil.")}catch(e){S("Conta criada, mas nao conseguimos atualizar o perfil automaticamente.")}m(!1),await e.replace("/dashboard");return}S("Verifique seu e-mail para confirmar o cadastro antes de entrar."),m(!1)};return d.jsx("div",{className:"min-h-screen bg-slate-100",children:(0,d.jsxs)("div",{className:"mx-auto flex min-h-screen max-w-md flex-col justify-center px-6 py-12",children:[(0,d.jsxs)("div",{className:"mb-8 flex flex-col items-center gap-4",children:[d.jsx(b(),{src:"/logo.svg",alt:"Logo",width:96,height:48,className:"h-12 w-auto",priority:!0}),d.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Criar conta"}),d.jsx("p",{className:"text-sm text-slate-600",children:"Preencha os dados para comecar a usar o app."})]}),(0,d.jsxs)("form",{onSubmit:j,className:"space-y-6 rounded-xl bg-white p-8 shadow",children:[x&&d.jsx("div",{className:"rounded-md border border-red-300 bg-red-50 px-4 py-2 text-sm text-red-700",children:x}),v&&d.jsx("div",{className:"rounded-md border border-blue-300 bg-blue-50 px-4 py-2 text-sm text-blue-700",children:v}),(0,d.jsxs)("div",{children:[d.jsx("label",{htmlFor:"fullName",className:"mb-2 block text-sm font-medium text-slate-700",children:"Nome completo"}),d.jsx("input",{id:"fullName",type:"text",placeholder:"Opcional",value:t,onChange:e=>s(e.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),(0,d.jsxs)("div",{children:[d.jsx("label",{htmlFor:"email",className:"mb-2 block text-sm font-medium text-slate-700",children:"E-mail"}),d.jsx("input",{id:"email",type:"email",required:!0,autoComplete:"email",value:r,onChange:e=>a(e.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),(0,d.jsxs)("div",{children:[d.jsx("label",{htmlFor:"password",className:"mb-2 block text-sm font-medium text-slate-700",children:"Senha"}),d.jsx("input",{id:"password",type:"password",required:!0,autoComplete:"new-password",value:i,onChange:e=>l(e.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),(0,d.jsxs)("div",{children:[d.jsx("label",{htmlFor:"confirm",className:"mb-2 block text-sm font-medium text-slate-700",children:"Confirmar senha"}),d.jsx("input",{id:"confirm",type:"password",required:!0,autoComplete:"new-password",value:o,onChange:e=>n(e.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),d.jsx("button",{type:"submit",disabled:u,className:"flex w-full items-center justify-center rounded-lg bg-blue-600 px-4 py-2 text-white transition hover:bg-blue-500 disabled:bg-blue-400",children:u?"Criando conta...":"Criar conta"})]}),(0,d.jsxs)("p",{className:"mt-6 text-center text-sm text-slate-600",children:["Ja tem conta?"," ",d.jsx(p(),{href:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Entrar"})]})]})})}let j=(0,l.l)(r,"default"),w=(0,l.l)(r,"getStaticProps"),N=(0,l.l)(r,"getStaticPaths"),P=(0,l.l)(r,"getServerSideProps"),y=(0,l.l)(r,"config"),C=(0,l.l)(r,"reportWebVitals"),_=(0,l.l)(r,"unstable_getStaticProps"),q=(0,l.l)(r,"unstable_getStaticPaths"),I=(0,l.l)(r,"unstable_getStaticParams"),A=(0,l.l)(r,"unstable_getServerProps"),E=(0,l.l)(r,"unstable_getServerSideProps"),J=new a.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/signup",pathname:"/signup",bundlePath:"",filename:""},components:{App:u.default,Document:n()},userland:r})},6086:(e,t,s)=>{"use strict";let r;s.d(t,{O:()=>i,Z:()=>l});var a=s(4001);function i(){return r||(r=(0,a.createPagesBrowserClient)()),r}let l=i()},2854:(e,t,s)=>{"use strict";s.d(t,{t:()=>l});var r=s(4001);let a="https://phtfqtumdtqrxvtlxwwq.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBodGZxdHVtZHRxcnh2dGx4d3dxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk0ODg1MTAsImV4cCI6MjA3NTA2NDUxMH0.bE94zxx9V9JAJyCshiGEiUoN0CiRRI-eTT1Aa7O6RJM";if(!a||!i)throw Error("Defina NEXT_PUBLIC_SUPABASE_URL e NEXT_PUBLIC_SUPABASE_ANON_KEY nas variaveis de ambiente.");function l(e){return(0,r.createPagesServerClient)(e,{supabaseUrl:a,supabaseKey:i})}},6847:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(997);s(6764);var a=s(6689);let i=require("@supabase/auth-helpers-react");var l=s(6086);function o({Component:e,pageProps:t}){let[s]=(0,a.useState)(()=>(0,l.O)());return r.jsx(i.SessionContextProvider,{supabaseClient:s,initialSession:t.initialSession,children:r.jsx(e,{...t})})}},6764:()=>{},4001:e=>{"use strict";e.exports=require("@supabase/auth-helpers-nextjs")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},2048:e=>{"use strict";e.exports=require("fs")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},1568:e=>{"use strict";e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[899,342,61],()=>s(9724));module.exports=r})();